function Haibao(){this.canvas=document.getElementById("myCanvas")}function download(e){var a=e;this.downloadFile("文章分享.png",a)}function downloadFile(e,a){var n=document.createElement("a"),t=this.base64ToBlob(a);document.createEvent("HTMLEvents").initEvent("click",!0,!0),n.download=e,n.href=URL.createObjectURL(t),n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}function base64ToBlob(e){for(var a=e.split(";base64,"),n=a[0].split(":")[1],t=window.atob(a[1]),o=t.length,i=new Uint8Array(o),r=0;r<o;++r)i[r]=t.charCodeAt(r);return new Blob([i],{type:n})}Haibao.prototype.generateQr=function(e){var a=$("#divOne").qrcode(e).hide().find("canvas").get(0);return qr_img=a.toDataURL("image/jpg"),qr_img},Haibao.prototype.imageToCanvas=function(n,e,a,t){var o=n.getContext("2d"),i=new Image;return i.src=e,i.onload=function(){o.drawImage(i,0,0);var e=new Image;e.src=a,e.onload=function(){o.save(),o.arc(175,84,44,0,2*Math.PI),o.clip(),o.drawImage(e,131,40,88,88),o.restore(),o.font="28px Arial",o.textAlign="center",o.fillStyle="#FFFFFF",o.fillText("AMD794",175,180),o.font="14px Arial",o.fillText("扫一扫下方二维码查看文章内容",175,210),o.fillText("来自AMD794的博客",280,420);var a=new Image;a.src=t,a.onload=function(){o.drawImage(a,100,240,150,150);var e=new Image;e.crossOrigin="*",e.src=n.toDataURL("image/png"),imgCode=e}}},imgCode.getAttribute("src")},Haibao.prototype.convertCanvasToImage=function(){var e=new Image;return e.crossOrigin="*",e.src=this.canvas.toDataURL("image/png"),e},Haibao.prototype.main=function(e,a){var n=this.generateQr(window.location.href);return this.imageToCanvas(this.canvas,e,a,n)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhaWJhby5qcyJdLCJuYW1lcyI6WyJIYWliYW8iLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRvd25sb2FkIiwiYmFzZTY0SW1nVXJsIiwiaW1nRGF0YSIsImRvd25sb2FkRmlsZSIsImZpbGVOYW1lIiwiY29udGVudCIsImFMaW5rIiwiY3JlYXRlRWxlbWVudCIsImJsb2IiLCJiYXNlNjRUb0Jsb2IiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkaXNwYXRjaEV2ZW50IiwiTW91c2VFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidmlldyIsIndpbmRvdyIsImNvZGUiLCJwYXJ0cyIsInNwbGl0IiwiY29udGVudFR5cGUiLCJyYXciLCJhdG9iIiwicmF3TGVuZ3RoIiwibGVuZ3RoIiwidUludDhBcnJheSIsIlVpbnQ4QXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsIkJsb2IiLCJ0eXBlIiwicHJvdG90eXBlIiwiZ2VuZXJhdGVRciIsInVybCIsInFyX2ltYWdlcyIsIiQiLCJxcmNvZGUiLCJoaWRlIiwiZmluZCIsImdldCIsInFyX2ltZyIsInRvRGF0YVVSTCIsImltYWdlVG9DYW52YXMiLCJ1cmwxIiwidXJsMiIsImN0eCIsImdldENvbnRleHQiLCJpbWcxIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJkcmF3SW1hZ2UiLCJpbWcyIiwic2F2ZSIsImFyYyIsIk1hdGgiLCJQSSIsImNsaXAiLCJyZXN0b3JlIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxTdHlsZSIsImZpbGxUZXh0IiwiaW1nMyIsImltYWdlIiwiY3Jvc3NPcmlnaW4iLCJpbWdDb2RlIiwiZ2V0QXR0cmlidXRlIiwiY29udmVydENhbnZhc1RvSW1hZ2UiLCJtYWluIiwiYmdVcmwiLCJjb3ZlclVybCIsImxvY2F0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxTQUNMQyxLQUFLQyxPQUFTQyxTQUFTQyxlQUFlLFlBNkQxQyxTQUFTQyxTQUFTQyxHQUNkLElBQUlDLEVBQVVELEVBQ2RMLEtBQUtPLGFBQWEsV0FBWUQsR0FLbEMsU0FBU0MsYUFBYUMsRUFBVUMsR0FDNUIsSUFBSUMsRUFBUVIsU0FBU1MsY0FBYyxLQUMvQkMsRUFBT1osS0FBS2EsYUFBYUosR0FFbkJQLFNBQVNZLFlBQVksY0FDM0JDLFVBQVUsU0FBUyxHQUFNLEdBQzdCTCxFQUFNTixTQUFXSSxFQUNqQkUsRUFBTU0sS0FBT0MsSUFBSUMsZ0JBQWdCTixHQUlqQ0YsRUFBTVMsY0FBYyxJQUFJQyxXQUFXLFFBQVMsQ0FBQ0MsU0FBUyxFQUFNQyxZQUFZLEVBQU1DLEtBQU1DLFVBS3hGLFNBQVNYLGFBQWFZLEdBUWxCLElBUEEsSUFBSUMsRUFBUUQsRUFBS0UsTUFBTSxZQUNuQkMsRUFBY0YsRUFBTSxHQUFHQyxNQUFNLEtBQUssR0FDbENFLEVBQU1MLE9BQU9NLEtBQUtKLEVBQU0sSUFDeEJLLEVBQVlGLEVBQUlHLE9BRWhCQyxFQUFhLElBQUlDLFdBQVdILEdBRXZCSSxFQUFJLEVBQUdBLEVBQUlKLElBQWFJLEVBQzdCRixFQUFXRSxHQUFLTixFQUFJTyxXQUFXRCxHQUVuQyxPQUFPLElBQUlFLEtBQUssQ0FBQ0osR0FBYSxDQUFDSyxLQUFNVixJQTVGekM3QixPQUFPd0MsVUFBVUMsV0FBYSxTQUFVQyxHQUNwQyxJQUNJQyxFQURhQyxFQUFFLFdBQVdDLE9BQU9ILEdBQUtJLE9BQ2ZDLEtBQUssVUFBVUMsSUFBSSxHQUU5QyxPQURBQyxPQUFTTixFQUFVTyxVQUFVLGFBQ3RCRCxRQUdYakQsT0FBT3dDLFVBQVVXLGNBQWdCLFNBQVVqRCxFQUFRa0QsRUFBTUMsRUFBTTNCLEdBQzNELElBQUk0QixFQUFNcEQsRUFBT3FELFdBQVcsTUFDeEJDLEVBQU8sSUFBSUMsTUFnQ2YsT0EvQkFELEVBQUtFLElBQU1OLEVBQ1hJLEVBQUtHLE9BQVMsV0FDVkwsRUFBSU0sVUFBVUosRUFBTSxFQUFHLEdBQ3ZCLElBQUlLLEVBQU8sSUFBSUosTUFDZkksRUFBS0gsSUFBTUwsRUFDWFEsRUFBS0YsT0FBUyxXQUNWTCxFQUFJUSxPQUNKUixFQUFJUyxJQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBSUMsS0FBS0MsSUFFakNYLEVBQUlZLE9BQ0paLEVBQUlNLFVBQVVDLEVBQU0sSUFBSyxHQUFJLEdBQUksSUFDakNQLEVBQUlhLFVBQ0piLEVBQUljLEtBQU8sYUFDWGQsRUFBSWUsVUFBWSxTQUNoQmYsRUFBSWdCLFVBQVksVUFDaEJoQixFQUFJaUIsU0FBUyxTQUFVLElBQUssS0FDNUJqQixFQUFJYyxLQUFPLGFBQ1hkLEVBQUlpQixTQUFTLGlCQUFrQixJQUFLLEtBQ3BDakIsRUFBSWlCLFNBQVMsY0FBZSxJQUFLLEtBQ2pDLElBQUlDLEVBQU8sSUFBSWYsTUFDZmUsRUFBS2QsSUFBTWhDLEVBQ1g4QyxFQUFLYixPQUFTLFdBQ1ZMLEVBQUlNLFVBQVVZLEVBQU0sSUFBSyxJQUFLLElBQUssS0FFbkMsSUFBSUMsRUFBUSxJQUFJaEIsTUFDaEJnQixFQUFNQyxZQUFjLElBQ3BCRCxFQUFNZixJQUFNeEQsRUFBT2dELFVBQVUsYUFDN0J5QixRQUFVRixLQUlmRSxRQUFRQyxhQUFhLFFBR2hDNUUsT0FBT3dDLFVBQVVxQyxxQkFBdUIsV0FDcEMsSUFBSUosRUFBUSxJQUFJaEIsTUFHaEIsT0FGQWdCLEVBQU1DLFlBQWMsSUFDcEJELEVBQU1mLElBQU16RCxLQUFLQyxPQUFPZ0QsVUFBVSxhQUMzQnVCLEdBR1h6RSxPQUFPd0MsVUFBVXNDLEtBQU8sU0FBVUMsRUFBT0MsR0FDckMsSUFBSS9CLEVBQVNoRCxLQUFLd0MsV0FBV2hCLE9BQU93RCxTQUFTaEUsTUFDN0MsT0FBT2hCLEtBQUtrRCxjQUFjbEQsS0FBS0MsT0FBUTZFLEVBQU9DLEVBQVUvQiIsImZpbGUiOiJoYWliYW8ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gSGFpYmFvKCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15Q2FudmFzXCIpOyAgIC8v6I635Y+WY2FudmFz6IqC54K5XHJcbn1cclxuXHJcbkhhaWJhby5wcm90b3R5cGUuZ2VuZXJhdGVRciA9IGZ1bmN0aW9uICh1cmwpIHsgIC8vIOeUn+aIkOS6jOe7tOeggVxyXG4gICAgdmFyIHFyX2NhbnZhbnMgPSAkKCcjZGl2T25lJykucXJjb2RlKHVybCkuaGlkZSgpO1xyXG4gICAgdmFyIHFyX2ltYWdlcyA9IHFyX2NhbnZhbnMuZmluZCgnY2FudmFzJykuZ2V0KDApO1xyXG4gICAgcXJfaW1nID0gcXJfaW1hZ2VzLnRvRGF0YVVSTCgnaW1hZ2UvanBnJyk7XHJcbiAgICByZXR1cm4gcXJfaW1nO1xyXG59O1xyXG5cclxuSGFpYmFvLnByb3RvdHlwZS5pbWFnZVRvQ2FudmFzID0gZnVuY3Rpb24gKGNhbnZhcywgdXJsMSwgdXJsMiwgY29kZSkgeyAvL+S8oOWFpWNhbnZhc+iKgueCuSDog4zmma/lm751cmwxICDlpLTlg491cmwyIOS6jOe7tOeggWNvZGVcclxuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgdmFyIGltZzEgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltZzEuc3JjID0gdXJsMTsgICAgICAgICAgICAgICAgICAgICAvL+WJjemdoueahOS4jeino+mHiuS6hu+8jOeUn+aIkOS4quWbvueJh1xyXG4gICAgaW1nMS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcxLCAwLCAwKTsgICAgICAgICAgICAgIC8v5b2T5Zu+54mH5Yqg6L295a6M5oiQ5ZCOIOi1i+WIsOeUu+W4g+S4iiDku44wIDAg5byA5aeL44CCXHJcbiAgICAgICAgdmFyIGltZzIgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBpbWcyLnNyYyA9IHVybDI7XHJcbiAgICAgICAgaW1nMi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5L+d5a2Y5b2T5YmN55S75biD54q25oCBXHJcbiAgICAgICAgICAgIGN0eC5hcmMoMTc1LCA4NCwgNDQsIDAsIDIgKiBNYXRoLlBJKTsgICAgLy/liarliIfmk43kvZwg5bCG5q2j5pa55b2i55qE5aS05YOP5YiH5oiQ5ZyG55qEXHJcbiAgICAgICAgICAgIC8vIOS7jueUu+W4g+S4iuijgeWJquWHuui/meS4quWchuW9olxyXG4gICAgICAgICAgICBjdHguY2xpcCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/ov5vooYzoo4HliapcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcyLCAxMzEsIDQwLCA4OCwgODgpOyAgIC8v5pS+5YWlaW1nMiDlnKgzMzAgOTDlnZDmoIflpIQgICAgIOWkp+WwjyA4OFxyXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6YeK5pS+55S75biD54q25oCBXHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gXCIyOHB4IEFyaWFsXCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkZGRkYnOyAgICAgICAgICAgICAgIC8v5YmN6Z2i5piv6K6+572u5paH5a2XIOWxnuaAp+iuvuS4uuWxheS4rVxyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoXCJBTUQ3OTRcIiwgMTc1LCAxODApOyAgICAgLy/mloflrZcg6L+Z6YeM5piv5YaZ5q2755qEIOWunumZheS4reWkmuS8oOS4quWPguaVsOWwsW9rXHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gXCIxNHB4IEFyaWFsXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChcIuaJq+S4gOaJq+S4i+aWueS6jOe7tOeggeafpeeci+aWh+eroOWGheWuuVwiLCAxNzUsIDIxMCk7ICAgICAvL+aWh+WtlyDov5nph4zmmK/lhpnmrbvnmoQg5a6e6ZmF5Lit5aSa5Lyg5Liq5Y+C5pWw5bCxb2tcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFwi5p2l6IeqQU1ENzk055qE5Y2a5a6iXCIsIDI4MCwgNDIwKTsgICAgIC8v5paH5a2XIOi/memHjOaYr+WGmeatu+eahCDlrp7pmYXkuK3lpJrkvKDkuKrlj4LmlbDlsLFva1xyXG4gICAgICAgICAgICB2YXIgaW1nMyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWczLnNyYyA9IGNvZGU7XHJcbiAgICAgICAgICAgIGltZzMub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWczLCAxMDAsIDI0MCwgMTUwLCAxNTApOyAgICAgIC8v5ZCM55CG5Yqg5Zu+5YOPXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpbWdDb2RlLmdldEF0dHJpYnV0ZSgnc3JjJykpXHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gXCIqXCI7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpOyAgICAgICAgICAgIC8vY2FudmFz6L2s5YyW5Li6aW1nXHJcbiAgICAgICAgICAgICAgICBpbWdDb2RlID0gaW1hZ2U7Ly/lsIblm77niYfovazkuLpiYXNlNjRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gaW1nQ29kZS5nZXRBdHRyaWJ1dGUoJ3NyYycpXHJcbn07XHJcblxyXG5IYWliYW8ucHJvdG90eXBlLmNvbnZlcnRDYW52YXNUb0ltYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBpbWFnZS5jcm9zc09yaWdpbiA9IFwiKlwiO1xyXG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpOyAgICAgICAgICAgIC8vY2FudmFz6L2s5YyW5Li6aW1nXHJcbiAgICByZXR1cm4gaW1hZ2U7XHJcbn07XHJcblxyXG5IYWliYW8ucHJvdG90eXBlLm1haW4gPSBmdW5jdGlvbiAoYmdVcmwsIGNvdmVyVXJsKSB7XHJcbiAgICB2YXIgcXJfaW1nID0gdGhpcy5nZW5lcmF0ZVFyKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgIHJldHVybiB0aGlzLmltYWdlVG9DYW52YXModGhpcy5jYW52YXMsIGJnVXJsLCBjb3ZlclVybCwgcXJfaW1nKTtcclxuXHJcbn07XHJcblxyXG4vL+S4i+i9vWJhc2U2NOWbvueJh1xyXG5mdW5jdGlvbiBkb3dubG9hZChiYXNlNjRJbWdVcmwpIHtcclxuICAgIHZhciBpbWdEYXRhID0gYmFzZTY0SW1nVXJsO1xyXG4gICAgdGhpcy5kb3dubG9hZEZpbGUoJ+aWh+eroOWIhuS6qy5wbmcnLCBpbWdEYXRhKTtcclxufVxyXG5cclxuXHJcbi8v5LiL6L29XHJcbmZ1bmN0aW9uIGRvd25sb2FkRmlsZShmaWxlTmFtZSwgY29udGVudCkge1xyXG4gICAgdmFyIGFMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgdmFyIGJsb2IgPSB0aGlzLmJhc2U2NFRvQmxvYihjb250ZW50KTsgLy9uZXcgQmxvYihbY29udGVudF0pO1xyXG5cclxuICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7XHJcbiAgICBldnQuaW5pdEV2ZW50KFwiY2xpY2tcIiwgdHJ1ZSwgdHJ1ZSk7Ly9pbml0RXZlbnQg5LiN5Yqg5ZCO5Lik5Liq5Y+C5pWw5ZyoRkbkuIvkvJrmiqXplJkgwqDkuovku7bnsbvlnovvvIzmmK/lkKblhpLms6HvvIzmmK/lkKbpmLvmraLmtY/op4jlmajnmoTpu5jorqTooYzkuLpcclxuICAgIGFMaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7XHJcbiAgICBhTGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcbiAgICAvLyBhTGluay5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbiAgICAvL2FMaW5rLmNsaWNrKClcclxuICAgIGFMaW5rLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywge2J1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIHZpZXc6IHdpbmRvd30pKTsvL+WFvOWuueeBq+eLkFxyXG59XHJcblxyXG5cclxuLy9iYXNlNjTovaxibG9iXHJcbmZ1bmN0aW9uIGJhc2U2NFRvQmxvYihjb2RlKSB7XHJcbiAgICB2YXIgcGFydHMgPSBjb2RlLnNwbGl0KCc7YmFzZTY0LCcpO1xyXG4gICAgdmFyIGNvbnRlbnRUeXBlID0gcGFydHNbMF0uc3BsaXQoJzonKVsxXTtcclxuICAgIHZhciByYXcgPSB3aW5kb3cuYXRvYihwYXJ0c1sxXSk7XHJcbiAgICB2YXIgcmF3TGVuZ3RoID0gcmF3Lmxlbmd0aDtcclxuXHJcbiAgICB2YXIgdUludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0xlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdMZW5ndGg7ICsraSkge1xyXG4gICAgICAgIHVJbnQ4QXJyYXlbaV0gPSByYXcuY2hhckNvZGVBdChpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgQmxvYihbdUludDhBcnJheV0sIHt0eXBlOiBjb250ZW50VHlwZX0pO1xyXG59XHJcblxyXG4iXX0=
