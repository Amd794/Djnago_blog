function Article(){this.progressGroup=$("#progress-group")}Article.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},Article.prototype.listenUploadFielEvent=function(){var i=$("#thumbnail-btn");i.change(function(){var e=i[0].files[0],t=new FormData;t.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200===e.code){var t=e.data.url;$("#thumbnail-form").val(t)}}})})},Article.prototype.listenQiniuUploadFileEvent=function(){var a=this;$("#thumbnail-btn").change(function(){var n=this.files[0];console.log(n),xfzajax.get({url:"/cms/qntoken/",success:function(e){if(200===e.code){var t=e.data.token,i=(new Date).getTime()+"."+n.name.split(".")[1],o={fname:i,params:{},mimeType:["image/png","image/jpeg","image/gif","video/x-ms-wmv"]},r={useCdnDomain:!0,retryCount:6,region:qiniu.region.z2};qiniu.upload(n,i,t,o,r).subscribe({next:a.handleFileUploadProgress,error:a.handleFileUploadError,complete:a.handleFileUploadComplete})}}})})},Article.prototype.handleFileUploadProgress=function(e){var t=e.total.percent.toFixed(0)+"%";Article.progressGroup.show();var i=$(".progress-bar");i.css({width:t}),i.text(t)},Article.prototype.handleFileUploadError=function(e){window.messageBox.showError(e.message),$("#progress-group").hide(),console.log(e.message)},Article.prototype.handleFileUploadComplete=function(e){console.log(e),$("#progress-group").hide();var t="https://image.amd794.com/"+e.key;$("input[name='picture']").val(t)},Article.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(e){e.preventDefault();var t=$(this).attr("data-article-id"),i=$("input[name='title']").val(),o=$("select[name='category']").val(),r=$("input[name='imagelabels']").val(),n=$("input[name='digest']").val(),a=$("input[name='picture']").val(),l=window.ue.getContent();""===r&&(r=!1);var s="";s=t?"/cms/edit_article/":"/cms/write_article/",xfzajax.post({url:s,data:{title:i,category:o,digest:n,picture:a,tag:r,content:l,pk:t},success:function(e){200===e.code&&xfzalert.alertSuccess("恭喜！文章发表成功！",function(){window.location.reload()})}})})},Article.prototype.run=function(){var e=this;e.initUEditor(),e.listenQiniuUploadFileEvent(),e.listenSubmitEvent()},$(function(){(new Article).run(),Article.progressGroup=$("#progress-group")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy9hcnRpY2xlV3JpdGUuanMiXSwibmFtZXMiOlsiQXJ0aWNsZSIsInRoaXMiLCJwcm9ncmVzc0dyb3VwIiwiJCIsInByb3RvdHlwZSIsImluaXRVRWRpdG9yIiwid2luZG93IiwidWUiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZUhlaWdodCIsInNlcnZlclVybCIsImxpc3RlblVwbG9hZEZpZWxFdmVudCIsInVwbG9hZEJ0biIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsInJlc3VsdCIsInZhbCIsImxpc3RlblFpbml1VXBsb2FkRmlsZUV2ZW50Iiwic2VsZiIsImNvbnNvbGUiLCJsb2ciLCJnZXQiLCJ0b2tlbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0IiwicHV0RXh0cmEiLCJmbmFtZSIsInBhcmFtcyIsIm1pbWVUeXBlIiwiY29uZmlnIiwidXNlQ2RuRG9tYWluIiwicmV0cnlDb3VudCIsInJlZ2lvbiIsInFpbml1IiwiejIiLCJ1cGxvYWQiLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZGxlRmlsZVVwbG9hZFByb2dyZXNzIiwiZXJyb3IiLCJoYW5kbGVGaWxlVXBsb2FkRXJyb3IiLCJjb21wbGV0ZSIsImhhbmRsZUZpbGVVcGxvYWRDb21wbGV0ZSIsInJlc3BvbnNlIiwicGVyY2VudFRleHQiLCJ0b3RhbCIsInBlcmNlbnQiLCJ0b0ZpeGVkIiwic2hvdyIsInByb2dyZXNzQmFyIiwiY3NzIiwid2lkdGgiLCJ0ZXh0IiwibWVzc2FnZUJveCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJoaWRlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwayIsImF0dHIiLCJ0aXRsZSIsImNhdGVnb3J5IiwidGFnIiwiZGlnZXN0IiwicGljdHVyZSIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsInJ1biJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsVUFDTEMsS0FBS0MsY0FBZ0JDLEVBQUUsbUJBRzNCSCxRQUFRSSxVQUFVQyxZQUFjLFdBQzVCQyxPQUFPQyxHQUFLQyxHQUFHQyxVQUFVLFNBQVUsQ0FDL0JDLG1CQUFzQixJQUN0QkMsVUFBYSxzQkFJckJYLFFBQVFJLFVBQVVRLHNCQUF3QixXQUN0QyxJQUFJQyxFQUFZVixFQUFFLGtCQUNsQlUsRUFBVUMsT0FBTyxXQUNiLElBQUlDLEVBQU9GLEVBQVUsR0FBR0csTUFBTSxHQUMxQkMsRUFBVyxJQUFJQyxTQUNuQkQsRUFBU0UsT0FBTyxPQUFRSixHQUN4QkssUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG9CQUNQQyxLQUFRTixFQUNSTyxhQUFlLEVBQ2ZDLGFBQWUsRUFDZkMsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlMLEVBQU1LLEVBQWEsS0FBTyxJQUNUeEIsRUFBRSxtQkFDUnlCLElBQUlOLFVBT3ZDdEIsUUFBUUksVUFBVXlCLDJCQUE2QixXQUMzQyxJQUFJQyxFQUFPN0IsS0FDS0UsRUFBRSxrQkFDUlcsT0FBTyxXQUNiLElBQUlDLEVBQU9kLEtBQUtlLE1BQU0sR0FDdEJlLFFBQVFDLElBQUlqQixHQUNaSyxRQUFRYSxJQUFJLENBQ1JYLElBQU8sZ0JBQ1BJLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJTyxFQUFRUCxFQUFhLEtBQVMsTUFHOUJRLEdBQU0sSUFBS0MsTUFBUUMsVUFBWSxJQUFNdEIsRUFBS3VCLEtBQUtDLE1BQU0sS0FBSyxHQUMxREMsRUFBVyxDQUNYQyxNQUFPTixFQUNQTyxPQUFRLEdBQ1JDLFNBQVUsQ0FBQyxZQUFhLGFBQWMsWUFBYSxtQkFFbkRDLEVBQVMsQ0FDVEMsY0FBYyxFQUNkQyxXQUFZLEVBQ1pDLE9BQVFDLE1BQU1ELE9BQU9FLElBRVJELE1BQU1FLE9BQU9uQyxFQUFNb0IsRUFBS0QsRUFBT00sRUFBVUksR0FDL0NPLFVBQVUsQ0FDakJDLEtBQVF0QixFQUFLdUIseUJBQ2JDLE1BQVN4QixFQUFLeUIsc0JBQ2RDLFNBQVkxQixFQUFLMkIsa0NBUXpDekQsUUFBUUksVUFBVWlELHlCQUEyQixTQUFVSyxHQUNuRCxJQUVJQyxFQUZRRCxFQUFTRSxNQUNEQyxRQUNNQyxRQUFRLEdBQUssSUFFbkI5RCxRQUFRRSxjQUNkNkQsT0FDZCxJQUFJQyxFQUFjN0QsRUFBRSxpQkFDcEI2RCxFQUFZQyxJQUFJLENBQUNDLE1BQVNQLElBQzFCSyxFQUFZRyxLQUFLUixJQUdyQjNELFFBQVFJLFVBQVVtRCxzQkFBd0IsU0FBVUQsR0FDaERoRCxPQUFPOEQsV0FBV0MsVUFBVWYsRUFBTWdCLFNBQ2RuRSxFQUFFLG1CQUNSb0UsT0FDZHhDLFFBQVFDLElBQUlzQixFQUFNZ0IsVUFHdEJ0RSxRQUFRSSxVQUFVcUQseUJBQTJCLFNBQVVDLEdBQ25EM0IsUUFBUUMsSUFBSTBCLEdBQ1F2RCxFQUFFLG1CQUNSb0UsT0FFZCxJQUVJakQsRUFGUyw0QkFDRW9DLEVBQVN2QixJQUVIaEMsRUFBRSx5QkFDUnlCLElBQUlOLElBR3ZCdEIsUUFBUUksVUFBVW9FLGtCQUFvQixXQUNsQnJFLEVBQUUsZUFDUnNFLE1BQU0sU0FBVUMsR0FDdEJBLEVBQU1DLGlCQUNOLElBQ0lDLEVBRE16RSxFQUFFRixNQUNDNEUsS0FBSyxtQkFFZEMsRUFBUTNFLEVBQUUsdUJBQXVCeUIsTUFDakNtRCxFQUFXNUUsRUFBRSwyQkFBMkJ5QixNQUN4Q29ELEVBQU03RSxFQUFFLDZCQUE2QnlCLE1BQ3JDcUQsRUFBUzlFLEVBQUUsd0JBQXdCeUIsTUFDbkNzRCxFQUFVL0UsRUFBRSx5QkFBeUJ5QixNQUNyQ3VELEVBQVU3RSxPQUFPQyxHQUFHNkUsYUFFZixLQUFOSixJQUNDQSxHQUFNLEdBSVYsSUFBSTFELEVBQU0sR0FFTkEsRUFEQXNELEVBQ00scUJBRUEsc0JBR1Z4RCxRQUFRQyxLQUFLLENBQ1RDLElBQU9BLEVBQ1BDLEtBQVEsQ0FDSnVELE1BQVNBLEVBQ1RDLFNBQVlBLEVBQ1pFLE9BQVVBLEVBQ1ZDLFFBQVdBLEVBQ1hGLElBQU9BLEVBQ1BHLFFBQVdBLEVBQ1hQLEdBQU1BLEdBRVZsRCxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYjBELFNBQVNDLGFBQWEsYUFBYyxXQUNoQ2hGLE9BQU9pRixTQUFTQyxpQkFReEN4RixRQUFRSSxVQUFVcUYsSUFBTSxXQUNwQixJQUFJM0QsRUFBTzdCLEtBQ1g2QixFQUFLekIsY0FDTHlCLEVBQUtELDZCQUNMQyxFQUFLMEMscUJBS1RyRSxFQUFFLFlBQ2dCLElBQUlILFNBQ1Z5RixNQUVSekYsUUFBUUUsY0FBZ0JDLEVBQUUiLCJmaWxlIjoiY21zL2FydGljbGVXcml0ZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBBcnRpY2xlKCkge1xyXG4gICAgdGhpcy5wcm9ncmVzc0dyb3VwID0gJChcIiNwcm9ncmVzcy1ncm91cFwiKTtcclxufVxyXG5cclxuQXJ0aWNsZS5wcm90b3R5cGUuaW5pdFVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cudWUgPSBVRS5nZXRFZGl0b3IoJ2VkaXRvcicsIHtcclxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogNDAwLFxyXG4gICAgICAgICdzZXJ2ZXJVcmwnOiAnL3VlZGl0b3IvdXBsb2FkLydcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQXJ0aWNsZS5wcm90b3R5cGUubGlzdGVuVXBsb2FkRmllbEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHVwbG9hZEJ0biA9ICQoJyN0aHVtYm5haWwtYnRuJyk7XHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHVwbG9hZEJ0blswXS5maWxlc1swXTtcclxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ZpbGUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKFwiI3RodW1ibmFpbC1mb3JtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbElucHV0LnZhbCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkFydGljbGUucHJvdG90eXBlLmxpc3RlblFpbml1VXBsb2FkRmlsZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHVwbG9hZEJ0biA9ICQoJyN0aHVtYm5haWwtYnRuJyk7XHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF07XHJcbiAgICAgICAgY29uc29sZS5sb2coZmlsZSk7XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvcW50b2tlbi8nLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYS5iLmpwZyA9IFsnYScsJ2InLCdqcGcnXVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIDE5ODg4ODg4OCArIC4gKyBqcGcgPSAxOTg4ODg4LmpwZ1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgJy4nICsgZmlsZS5uYW1lLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB1dEV4dHJhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogWydpbWFnZS9wbmcnLCAnaW1hZ2UvanBlZycsICdpbWFnZS9naWYnLCAndmlkZW8veC1tcy13bXYnXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlQ2RuRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50OiA2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHFpbml1LnJlZ2lvbi56MlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBxaW5pdS51cGxvYWQoZmlsZSwga2V5LCB0b2tlbiwgcHV0RXh0cmEsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IHNlbGYuaGFuZGxlRmlsZVVwbG9hZFByb2dyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOiBzZWxmLmhhbmRsZUZpbGVVcGxvYWRFcnJvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRlJzogc2VsZi5oYW5kbGVGaWxlVXBsb2FkQ29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5BcnRpY2xlLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkUHJvZ3Jlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgIHZhciB0b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xyXG4gICAgdmFyIHBlcmNlbnQgPSB0b3RhbC5wZXJjZW50O1xyXG4gICAgdmFyIHBlcmNlbnRUZXh0ID0gcGVyY2VudC50b0ZpeGVkKDApICsgJyUnO1xyXG4gICAgLy8gMjQuMDkwOe+8jDg5LjAwMC4uLi5cclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gQXJ0aWNsZS5wcm9ncmVzc0dyb3VwO1xyXG4gICAgcHJvZ3Jlc3NHcm91cC5zaG93KCk7XHJcbiAgICB2YXIgcHJvZ3Jlc3NCYXIgPSAkKFwiLnByb2dyZXNzLWJhclwiKTtcclxuICAgIHByb2dyZXNzQmFyLmNzcyh7XCJ3aWR0aFwiOiBwZXJjZW50VGV4dH0pO1xyXG4gICAgcHJvZ3Jlc3NCYXIudGV4dChwZXJjZW50VGV4dCk7XHJcbn07XHJcblxyXG5BcnRpY2xlLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJChcIiNwcm9ncmVzcy1ncm91cFwiKTtcclxuICAgIHByb2dyZXNzR3JvdXAuaGlkZSgpO1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbn07XHJcblxyXG5BcnRpY2xlLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkQ29tcGxldGUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJChcIiNwcm9ncmVzcy1ncm91cFwiKTtcclxuICAgIHByb2dyZXNzR3JvdXAuaGlkZSgpO1xyXG5cclxuICAgIHZhciBkb21haW4gPSAnaHR0cHM6Ly9pbWFnZS5hbWQ3OTQuY29tLyc7XHJcbiAgICB2YXIgZmlsZW5hbWUgPSByZXNwb25zZS5rZXk7XHJcbiAgICB2YXIgdXJsID0gZG9tYWluICsgZmlsZW5hbWU7XHJcbiAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKFwiaW5wdXRbbmFtZT0ncGljdHVyZSddXCIpO1xyXG4gICAgdGh1bWJuYWlsSW5wdXQudmFsKHVybCk7XHJcbn07XHJcblxyXG5BcnRpY2xlLnByb3RvdHlwZS5saXN0ZW5TdWJtaXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzdWJtaXRCdG4gPSAkKFwiI3N1Ym1pdC1idG5cIik7XHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgYnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgcGsgPSBidG4uYXR0cignZGF0YS1hcnRpY2xlLWlkJyk7XHJcblxyXG4gICAgICAgIHZhciB0aXRsZSA9ICQoXCJpbnB1dFtuYW1lPSd0aXRsZSddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeSA9ICQoXCJzZWxlY3RbbmFtZT0nY2F0ZWdvcnknXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgdGFnID0gJChcImlucHV0W25hbWU9J2ltYWdlbGFiZWxzJ11cIikudmFsKCk7ICAvLyDmsqHmnInkv67mlLnov4fkuLrnqbpcclxuICAgICAgICB2YXIgZGlnZXN0ID0gJChcImlucHV0W25hbWU9J2RpZ2VzdCddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBwaWN0dXJlID0gJChcImlucHV0W25hbWU9J3BpY3R1cmUnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY29udGVudCA9IHdpbmRvdy51ZS5nZXRDb250ZW50KCk7XHJcblxyXG4gICAgICAgIGlmKHRhZz09PScnKXtcclxuICAgICAgICAgICAgdGFnID0gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgdXJsID0gJyc7XHJcbiAgICAgICAgaWYgKHBrKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL2VkaXRfYXJ0aWNsZS8nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3dyaXRlX2FydGljbGUvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiB1cmwsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzogdGl0bGUsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnknOiBjYXRlZ29yeSxcclxuICAgICAgICAgICAgICAgICdkaWdlc3QnOiBkaWdlc3QsXHJcbiAgICAgICAgICAgICAgICAncGljdHVyZSc6IHBpY3R1cmUsXHJcbiAgICAgICAgICAgICAgICAndGFnJzogdGFnLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ3BrJzogcGtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzcygn5oGt5Zac77yB5paH56ug5Y+R6KGo5oiQ5Yqf77yBJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQXJ0aWNsZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pbml0VUVkaXRvcigpO1xyXG4gICAgc2VsZi5saXN0ZW5RaW5pdVVwbG9hZEZpbGVFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5TdWJtaXRFdmVudCgpO1xyXG4gICAgLy8gc2VsZi5saXN0ZW5VcGxvYWRGaWVsRXZlbnQoKTtcclxufTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhcnRpY2xlID0gbmV3IEFydGljbGUoKTtcclxuICAgIGFydGljbGUucnVuKCk7XHJcblxyXG4gICAgQXJ0aWNsZS5wcm9ncmVzc0dyb3VwID0gJCgnI3Byb2dyZXNzLWdyb3VwJyk7XHJcbn0pOyJdfQ==
