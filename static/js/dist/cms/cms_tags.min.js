var newText=new Array,selectedText=new Array,existedText=new Array;function resetDataValue(){val="";for(var e=0;e<$(".label-selected").children("li").length;e++){var t=$(".label-selected").children("li").eq(e).attr("data");"0"!=t&&(val+=t+",")}$("input[name='imagelabels']").val(val)}function addNewText(e){valtext=$("input[name='newtext']").val(),valtext+=e+",",$("input[name='newtext']").val(valtext),newText.push(e)}function removeNewText(e){valtext="";var t=newText.indexOf(e);for(-1!==t&&newText.splice(t,1),i=0;i<newText.length;i++)valtext+=newText[i]+",";$("input[name='newtext']").val(valtext)}function resetSelectedText(){for(selectedText=[],valtext="",i=0;i<$(".label-selected").children("li").length;i++){var e=$(".label-selected").children("li").eq(i).text();selectedText[i]=e,valtext+=selectedText[i]+","}$("input[name='selectedtext']").val(valtext)}function resetExistedText(){for(existedText=[],valtext="",i=0;i<$(".label-item").children("li").length;i++){var e=$(".label-item").children("li").eq(i).children("span:nth-child(2)").html();existedText[i]=e,valtext+=existedText[i]+","}$("input[name='existedtext']").val(valtext)}function addLabel(e,t){if(8<=$(".label-selected").children("li").length)return tips("最多可以选择8个哦"),!1;var l=getappendHTML(e,t);return $(".label-selected").append(l),resetDataValue(),resetSelectedText(),!0}function submit(){var e=$("input[name='imagelabels']").val(),t=$("input[name='newtext']").val();alert(e),alert(t)}function getappendHTML(e,t){return"<li data='"+e+"''>"+t+"<div class='delete'></div></li>"}function tips(e){layer.open({type:1,offset:"auto",title:"提示",content:'<div style="padding: 20px 80px;">'+e+"</div>",btn:"确定",btnAlign:"c",yes:layer.closeAll()})}$(function(){$(".show-labelitem").on("click",function(){$(this).hide(),$(".hide-labelitem").show(),$("#labelItem").show()}),$(".hide-labelitem").on("click",function(){$(this).hide(),$(".show-labelitem").show(),$("#labelItem").hide()}),$("input[name='imagelabels']").val(""),$("input[name='newtext']").val(""),$("input[name='selectedtext']").val(""),$("input[name='existedtext']").val(""),$(".label-item").on("click","li",function(){var e=$(this).attr("data"),t=$(this).children("span:nth-child(2)").html();if($(this).hasClass("selected"))return!1;addLabel(e,t)&&$(this).addClass("selected")}),resetExistedText()}),$("#label-self").on("click",function(){var e=$("#labelName").val();if(null!=e&&""!=e){var t=selectedText.indexOf(e),l=existedText.indexOf(e);if(-1!==t)return void tips("标签已存在！");if(-1!==l){var a=$(".label-item").children("li").eq(l);return void(addLabel(a.attr("data"),e)&&a.addClass("selected"))}addLabel(0,e)&&addNewText(e)}else tips("请填写标签名！")}),$(".label-selected").on("click","li .delete",function(){var e=$(this).parent().attr("data"),t=$(this).parent().text();$(this).parent().remove(),resetDataValue(),resetSelectedText(),0==e?removeNewText(t):$(".label-item").find("li[data='"+e+"']").removeClass("selected")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy9jbXNfdGFncy5qcyJdLCJuYW1lcyI6WyJuZXdUZXh0IiwiQXJyYXkiLCJzZWxlY3RlZFRleHQiLCJleGlzdGVkVGV4dCIsInJlc2V0RGF0YVZhbHVlIiwidmFsIiwiaSIsIiQiLCJjaGlsZHJlbiIsImxlbmd0aCIsImRhdGEiLCJlcSIsImF0dHIiLCJhZGROZXdUZXh0IiwibGFiZWxOYW1lIiwidmFsdGV4dCIsInB1c2giLCJyZW1vdmVOZXdUZXh0IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwicmVzZXRTZWxlY3RlZFRleHQiLCJ0ZXh0IiwicmVzZXRFeGlzdGVkVGV4dCIsImh0bWwiLCJhZGRMYWJlbCIsImlkIiwidGlwcyIsImxhYmVsSFRNTCIsImdldGFwcGVuZEhUTUwiLCJhcHBlbmQiLCJzdWJtaXQiLCJsYWJlbElEIiwibmV3dGV4dCIsImFsZXJ0IiwiY29udGVudCIsImxheWVyIiwib3BlbiIsInR5cGUiLCJvZmZzZXQiLCJ0aXRsZSIsImJ0biIsImJ0bkFsaWduIiwieWVzIiwiY2xvc2VBbGwiLCJvbiIsInRoaXMiLCJoaWRlIiwic2hvdyIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJpbmRleE9mc2VsZWN0ZWQiLCJpbmRleE9mZXhpc3RlZCIsImxpIiwicGFyZW50IiwicmVtb3ZlIiwiZmluZCIsInJlbW92ZUNsYXNzIl0sIm1hcHBpbmdzIjoiQUFFQSxJQUFJQSxRQUFVLElBQUlDLE1BQ2RDLGFBQWUsSUFBSUQsTUFDbkJFLFlBQWMsSUFBSUYsTUFnRHRCLFNBQVNHLGlCQUVMQyxJQUFNLEdBQ04sSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlDLEVBQUUsbUJBQW1CQyxTQUFTLE1BQU1DLE9BQVFILElBQUssQ0FDakUsSUFBSUksRUFBT0gsRUFBRSxtQkFBbUJDLFNBQVMsTUFBTUcsR0FBR0wsR0FBR00sS0FBSyxRQUM5QyxLQUFSRixJQUNBTCxLQUFPSyxFQUFPLEtBR3RCSCxFQUFFLDZCQUE2QkYsSUFBSUEsS0FLdkMsU0FB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LElBQWJBLEVBQWlCLENBRXRDLElBQUlxQyxFQUFrQmpELGFBQWFpQixRQUFRTCxHQUN2Q3NDLEVBQWlCakQsWUFBWWdCLFFBQVFMLEdBR3pDLElBQXlCLElBQXJCcUMsRUFHQSxZQURBeEIsS0FBSyxVQUVGLElBQXdCLElBQXBCeUIsRUFDWCxDQUNJLElBQUlDLEVBQUs5QyxFQUFFLGVBQWVDLFNBQVMsTUFBTUcsR0FBR3lDLEdBSzVDLFlBSEkzQixTQURLNEIsRUFBR3pDLEtBQUssUUFDQUUsSUFDYnVDLEVBQUdILFNBQVMsYUFJWnpCLFNBQVMsRUFBR1gsSUFFWkQsV0FBV0MsUUFJbkJhLEtBQUssYUEyQmJwQixFQUFFLG1CQUFtQnNDLEdBQUcsUUFBUyxhQUFjLFdBQzNDLElBQUluQixFQUFLbkIsRUFBRXVDLE1BQU1RLFNBQVMxQyxLQUFLLFFBQzNCVSxFQUFPZixFQUFFdUMsTUFBTVEsU0FBU2hDLE9BRTVCZixFQUFFdUMsTUFBTVEsU0FBU0MsU0FHakJuRCxpQkFDQWlCLG9CQUdVLEdBQU5LLEVBQ0FULGNBQWNLLEdBRWRmLEVBQUUsZUFBZWlELEtBQUssWUFBYzlCLEVBQUssTUFBTStCLFlBQVkiLCJmaWxlIjoiY21zL2Ntc190YWdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBQYXJ0IDAxIOWIneWni+WMluW8gOWniyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbi8v5a6a5LmJ5YWo5bGA5Y+Y6YePLS3mlbDnu4RcclxudmFyIG5ld1RleHQgPSBuZXcgQXJyYXkoKTtcclxudmFyIHNlbGVjdGVkVGV4dCA9IG5ldyBBcnJheSgpO1xyXG52YXIgZXhpc3RlZFRleHQgPSBuZXcgQXJyYXkoKTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG5cclxuXHJcbiAgICAkKFwiLnNob3ctbGFiZWxpdGVtXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgICAgICQoXCIuaGlkZS1sYWJlbGl0ZW1cIikuc2hvdygpO1xyXG4gICAgICAgICQoXCIjbGFiZWxJdGVtXCIpLnNob3coKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuaGlkZS1sYWJlbGl0ZW1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICAgICAgJChcIi5zaG93LWxhYmVsaXRlbVwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiNsYWJlbEl0ZW1cIikuaGlkZSgpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgICQoXCJpbnB1dFtuYW1lPSdpbWFnZWxhYmVscyddXCIpLnZhbCgnJyk7ICAgICAgLy/lt7Lnu4/pgInmi6nnmoTmoIfnrb5JRFxyXG4gICAgJChcImlucHV0W25hbWU9J25ld3RleHQnXVwiKS52YWwoJycpOyAgICAgICAgICAvL+aWsOW7uueahOagh+etvuaWh+acrO+8jOimgeWtmOWFpeaVsOaNruW6k+eahFxyXG4gICAgJChcImlucHV0W25hbWU9J3NlbGVjdGVkdGV4dCddXCIpLnZhbCgnJyk7XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0nZXhpc3RlZHRleHQnXVwiKS52YWwoJycpO1xyXG5cclxuXHJcbi8v57uZ5qCH562+5bqT6YeM55qE5qCH562+5re75Yqg54K55Ye75LqL5Lu2XHJcbiAgICAkKFwiLmxhYmVsLWl0ZW1cIikub24oXCJjbGlja1wiLCBcImxpXCIsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKFwiZGF0YVwiKTtcclxuICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykuY2hpbGRyZW4oXCJzcGFuOm50aC1jaGlsZCgyKVwiKS5odG1sKCk7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJzZWxlY3RlZFwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhZGRMYWJlbChpZCwgdGV4dCkpIHsgICAgICAgICAgICAgICAgICAvL+a3u+WKoO+8jOW5tuimgeaKiuagh+etvuW6k+mHjOebuOW6lOeahOagh+etvuiuvue9ruS4uuW3sumAieaLqVxyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG4vL+WIneWni+WMljRcclxuICAgIHJlc2V0RXhpc3RlZFRleHQoKTtcclxuXHJcblxyXG59KVxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq5Yid5aeL5YyW57uT5p2fKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGFydCAwMiDorr7nva7mlbDnu4TlkoxpbnB1dCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiByZXNldERhdGFWYWx1ZSgpIHtcclxuICAgIC8qKioqKioxKioqKirnm7TmjqXku47mnIDkuIrpnaLnlJ/miJAqKi9cclxuICAgIHZhbCA9ICcnO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkKFwiLmxhYmVsLXNlbGVjdGVkXCIpLmNoaWxkcmVuKFwibGlcIikubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgZGF0YSA9ICQoXCIubGFiZWwtc2VsZWN0ZWRcIikuY2hpbGRyZW4oXCJsaVwiKS5lcShpKS5hdHRyKFwiZGF0YVwiKTtcclxuICAgICAgICBpZiAoZGF0YSAhPSBcIjBcIikgeyAgICAgICAgICAgICAgLy/lj6rlrZjlgqjpgJrov4fmoIfnrb7lupPmt7vliqDnmoQgSUTvvIzmlrDlop7nmoToh6rlrprkuYnmoIfnrb4gZGF0YSDkuLogMCAgICoqKioqKioqKlxyXG4gICAgICAgICAgICB2YWwgKz0gZGF0YSArICcsJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0naW1hZ2VsYWJlbHMnXVwiKS52YWwodmFsKTtcclxufVxyXG5cclxuLy8y44CBM+OAgTTvvJrmlbDmja7lkIzml7blrZjliLAg5pWw57uEIOWSjCBpbnB1dOOAguaVsOe7hO+8muaWueS+v+ajgOe0ou+8m2lucHV077ya5pa55L6/6KeC5a+fICAgICDmlbDnu4TlkozmloflrZfvvIzpobrluo/kuIDoh7RcclxuXHJcbmZ1bmN0aW9uIGFkZE5ld1RleHQobGFiZWxOYW1lKSB7XHJcbiAgICAvKioqKioyKyoqKuaWh+Wtl++8jOaVsOe7hCDlkIToh6rlop4qKioqL1xyXG4gICAgdmFsdGV4dCA9ICQoXCJpbnB1dFtuYW1lPSduZXd0ZXh0J11cIikudmFsKCk7XHJcbiAgICA7XHJcbiAgICB2YWx0ZXh0ICs9IGxhYmVsTmFtZSArICcsJztcclxuICAgICQoXCJpbnB1dFtuYW1lPSduZXd0ZXh0J11cIikudmFsKHZhbHRleHQpO1xyXG4gICAgbmV3VGV4dC5wdXNoKGxhYmVsTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZU5ld1RleHQobGFiZWxOYW1lKSB7XHJcbiAgICAvKioqKioqMi0qKirmlbDnu4TigJTigJTigJTigJQ+5paH5a2XKioqKi9cclxuICAgIHZhbHRleHQgPSAnJztcclxuICAgIHZhciBpbmRleCA9IG5ld1RleHQuaW5kZXhPZihsYWJlbE5hbWUpO1xyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIG5ld1RleHQuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICAgIGZvciAoaSA9IDA7IGkgPCBuZXdUZXh0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdGV4dCArPSBuZXdUZXh0W2ldICsgJywnO1xyXG4gICAgfVxyXG4gICAgJChcImlucHV0W25hbWU9J25ld3RleHQnXVwiKS52YWwodmFsdGV4dCk7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gcmVzZXRTZWxlY3RlZFRleHQoKSB7XHJcbiAgICAvKioqKioqMyoq5qC55o2uIOacgOS4iumdoiDnlJ/miJDljZXni6znmoTmlbDnu4TlkozmloflrZcqKioqKi9cclxuICAgIHNlbGVjdGVkVGV4dCA9IFtdOyAgIC8v6aaW5YWI6KaB5riF56m6XHJcbiAgICB2YWx0ZXh0ID0gJyc7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgJChcIi5sYWJlbC1zZWxlY3RlZFwiKS5jaGlsZHJlbihcImxpXCIpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHRleHQgPSAkKFwiLmxhYmVsLXNlbGVjdGVkXCIpLmNoaWxkcmVuKFwibGlcIikuZXEoaSkudGV4dCgpO1xyXG4gICAgICAgIHNlbGVjdGVkVGV4dFtpXSA9IHRleHQ7XHJcbiAgICAgICAgdmFsdGV4dCArPSBzZWxlY3RlZFRleHRbaV0gKyAnLCc7XHJcbiAgICB9XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0nc2VsZWN0ZWR0ZXh0J11cIikudmFsKHZhbHRleHQpO1xyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHJlc2V0RXhpc3RlZFRleHQoKSB7XHJcbiAgICAvKioqKioqNCoq5qC55o2uIOagh+etvuW6k+WIl+ihqCDnlJ/miJDljZXni6znmoTmlbDnu4TlkozmloflrZcqKioqKi9cclxuICAgIGV4aXN0ZWRUZXh0ID0gW107ICAgLy/pppblhYjopoHmuIXnqbpcclxuICAgIHZhbHRleHQgPSAnJztcclxuICAgIGZvciAoaSA9IDA7IGkgPCAkKFwiLmxhYmVsLWl0ZW1cIikuY2hpbGRyZW4oXCJsaVwiKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gJChcIi5sYWJlbC1pdGVtXCIpLmNoaWxkcmVuKFwibGlcIikuZXEoaSkuY2hpbGRyZW4oXCJzcGFuOm50aC1jaGlsZCgyKVwiKS5odG1sKCk7XHJcbiAgICAgICAgZXhpc3RlZFRleHRbaV0gPSB0ZXh0O1xyXG4gICAgICAgIHZhbHRleHQgKz0gZXhpc3RlZFRleHRbaV0gKyAnLCc7XHJcbiAgICB9XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0nZXhpc3RlZHRleHQnXVwiKS52YWwodmFsdGV4dCk7XHJcblxyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKuiuvue9ruaVsOe7hOWSjGlucHV057uT5p2fKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBQYXJ0IDAzIOa3u+WKoCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbi8v5re75Yqg6Ieq5a6a5LmJ5qCH562+XHJcbiQoXCIjbGFiZWwtc2VsZlwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHsgICAgICAvLyAz5oOF5Ya177ya6YeN5aSN44CB5qCH562+5bqT44CB5paw5aKeXHJcblxyXG4gICAgdmFyIGxhYmVsTmFtZSA9ICQoXCIjbGFiZWxOYW1lXCIpLnZhbCgpO1xyXG4gICAgaWYgKGxhYmVsTmFtZSAhPSBudWxsICYmIGxhYmVsTmFtZSAhPSBcIlwiKSB7XHJcblxyXG4gICAgICAgIHZhciBpbmRleE9mc2VsZWN0ZWQgPSBzZWxlY3RlZFRleHQuaW5kZXhPZihsYWJlbE5hbWUpO1xyXG4gICAgICAgIHZhciBpbmRleE9mZXhpc3RlZCA9IGV4aXN0ZWRUZXh0LmluZGV4T2YobGFiZWxOYW1lKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChpbmRleE9mc2VsZWN0ZWQgIT09IC0xKSAgICAgLy/lt7Lnu4/lrZjlnKjkuo7lt7LpgInmi6nvvIzkuI3mt7vliqBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRpcHMoXCLmoIfnrb7lt7LlrZjlnKjvvIFcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4T2ZleGlzdGVkICE9PSAtMSkgLy/lt7Lnu4/lrZjlnKjkuo7moIfnrb7lupPvvIzmt7vliqDvvIzlubbopoHmiormoIfnrb7lupPph4znm7jlupTnmoTmoIfnrb7orr7nva7kuLrlt7LpgInmi6lcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBsaSA9ICQoXCIubGFiZWwtaXRlbVwiKS5jaGlsZHJlbihcImxpXCIpLmVxKGluZGV4T2ZleGlzdGVkKTtcclxuICAgICAgICAgICAgdmFyIGlkID0gbGkuYXR0cihcImRhdGFcIik7XHJcbiAgICAgICAgICAgIGlmIChhZGRMYWJlbChpZCwgbGFiZWxOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgbGkuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGFkZExhYmVsKDAsIGxhYmVsTmFtZSkpICAgLy/mlrDmt7vliqDnmoTmoIfnrb7vvIzmt7vliqDvvIzlubYyK1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhZGROZXdUZXh0KGxhYmVsTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRpcHMoXCLor7floavlhpnmoIfnrb7lkI3vvIFcIik7XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG4vL+a3u+WKoOagh+etvuWIsOacgOS4iumdolxyXG5mdW5jdGlvbiBhZGRMYWJlbChpZCwgdGV4dCkge1xyXG4gICAgdmFyIG51bSA9IDg7ICAgICAgICAgICAgICAvL+agh+etvuacgOWkmuS4quaVsFxyXG4gICAgaWYgKCQoXCIubGFiZWwtc2VsZWN0ZWRcIikuY2hpbGRyZW4oXCJsaVwiKS5sZW5ndGggPj0gbnVtKSB7XHJcbiAgICAgICAgdGlwcyhcIuacgOWkmuWPr+S7pemAieaLqVwiICsgbnVtICsgXCLkuKrlk6ZcIik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBsYWJlbEhUTUwgPSBnZXRhcHBlbmRIVE1MKGlkLCB0ZXh0KTtcclxuICAgICQoXCIubGFiZWwtc2VsZWN0ZWRcIikuYXBwZW5kKGxhYmVsSFRNTCk7XHJcblxyXG4gICAgLy/mlrDlop7vvIzliLfmlrAgMeOAgTNcclxuICAgIHJlc2V0RGF0YVZhbHVlKCk7XHJcbiAgICByZXNldFNlbGVjdGVkVGV4dCgpO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBQYXJ0IDA0IOWIoOmZpCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLy/liKDpmaTlt7LpgInmoIfnrb5cclxuJChcIi5sYWJlbC1zZWxlY3RlZFwiKS5vbihcImNsaWNrXCIsIFwibGkgLmRlbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLnBhcmVudCgpLmF0dHIoXCJkYXRhXCIpO1xyXG4gICAgdmFyIHRleHQgPSAkKHRoaXMpLnBhcmVudCgpLnRleHQoKTtcclxuICAgIC8v5Yig6Zmk5pyA5LiK6Z2iXHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xyXG5cclxuICAgIC8v5Yi35pawIDHjgIEzXHJcbiAgICByZXNldERhdGFWYWx1ZSgpO1xyXG4gICAgcmVzZXRTZWxlY3RlZFRleHQoKTtcclxuXHJcblxyXG4gICAgaWYgKGlkID09IDApIHsgICAgICAgICAgICAgLy/liKDpmaTnmoTmmK/mlrDlop7moIfnrb4gIDItXHJcbiAgICAgICAgcmVtb3ZlTmV3VGV4dCh0ZXh0KTtcclxuICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAvL+WIoOmZpOeahOaYr+agh+etvuW6k+mHjOeahOagh+etviAg56e76ZmkY2xhc3NcclxuICAgICAgICAkKFwiLmxhYmVsLWl0ZW1cIikuZmluZChcImxpW2RhdGE9J1wiICsgaWQgKyBcIiddXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGFydCAwNSDmj5DkuqQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiBzdWJtaXQoKSB7XHJcbiAgICB2YXIgbGFiZWxJRCA9ICQoXCJpbnB1dFtuYW1lPSdpbWFnZWxhYmVscyddXCIpLnZhbCgpO1xyXG4gICAgdmFyIG5ld3RleHQgPSAkKFwiaW5wdXRbbmFtZT0nbmV3dGV4dCddXCIpLnZhbCgpOyAgICAgLy/kv53lrZjliLDmlbDmja7lupNcclxuICAgIGFsZXJ0KGxhYmVsSUQpO1xyXG4gICAgYWxlcnQobmV3dGV4dCk7XHJcbn1cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmZ1bmN0aW9uIGdldGFwcGVuZEhUTUwoaWQsIHRleHQpIHtcclxuICAgIHJldHVybiBcIjxsaSBkYXRhPSdcIiArIGlkICsgXCInJz5cIiArIHRleHQgKyBcIjxkaXYgY2xhc3M9J2RlbGV0ZSc+PC9kaXY+PC9saT5cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gdGlwcyhjb250ZW50KSB7XHJcbiAgICBsYXllci5vcGVuKHtcclxuICAgICAgICB0eXBlOiAxLFxyXG4gICAgICAgIG9mZnNldDogJ2F1dG8nLCAvL+WFt+S9k+mFjee9ruWPguiAg++8mm9mZnNldOWPguaVsOmhuVxyXG4gICAgICAgIHRpdGxlOiAn5o+Q56S6JyxcclxuICAgICAgICBjb250ZW50OiAnPGRpdiBzdHlsZT1cInBhZGRpbmc6IDIwcHggODBweDtcIj4nICsgY29udGVudCArICc8L2Rpdj4nLFxyXG4gICAgICAgIGJ0bjogJ+ehruWumicsXHJcbiAgICAgICAgYnRuQWxpZ246ICdjJywgLy/mjInpkq7lsYXkuK1cclxuICAgICAgICB5ZXM6IGxheWVyLmNsb3NlQWxsKClcclxuICAgIH0pO1xyXG59Il19
