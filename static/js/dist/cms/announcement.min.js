function Announcement(){}Announcement.prototype.run=function(){this.initUEditor(),this.listenSubmitEvent()},Announcement.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},Announcement.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(n){n.preventDefault();var t=$(this).attr("data-announcement-id"),e=window.ue.getContent(),o="";o=t?"/cms/edit_announcement/":"/cms/add_announcement/",xfzajax.post({url:o,data:{content:e,pk:t},success:function(n){200===n.code&&xfzalert.alertSuccess("成功！",function(){window.history.go(-1),window.location.href=document.referrer})}})})},$(function(){(new Announcement).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy9hbm5vdW5jZW1lbnQuanMiXSwibmFtZXMiOlsiQW5ub3VuY2VtZW50IiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImluaXRVRWRpdG9yIiwibGlzdGVuU3VibWl0RXZlbnQiLCJ3aW5kb3ciLCJ1ZSIsIlVFIiwiZ2V0RWRpdG9yIiwiaW5pdGlhbEZyYW1lSGVpZ2h0Iiwic2VydmVyVXJsIiwiJCIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBrIiwiYXR0ciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwidXJsIiwieGZ6YWpheCIsInBvc3QiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsInhmemFsZXJ0IiwiYWxlcnRTdWNjZXNzIiwiaGlzdG9yeSIsImdvIiwibG9jYXRpb24iLCJocmVmIiwiZG9jdW1lbnQiLCJyZWZlcnJlciJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLElBQU0sV0FDZEMsS0FDTkMsY0FETUQsS0FFTkUscUJBR1RMLGFBQWFDLFVBQVVHLFlBQWMsV0FDakNFLE9BQU9DLEdBQUtDLEdBQUdDLFVBQVUsU0FBVSxDQUMvQkMsbUJBQXNCLElBQ3RCQyxVQUFhLHNCQUtyQlgsYUFBYUMsVUFBVUksa0JBQW9CLFdBQ3ZCTyxFQUFFLGVBQ1JDLE1BQU0sU0FBVUMsR0FDdEJBLEVBQU1DLGlCQUNOLElBQ0lDLEVBRE1KLEVBQUVULE1BQ0NjLEtBQUssd0JBQ2RDLEVBQVVaLE9BQU9DLEdBQUdZLGFBQ3BCQyxFQUFNLEdBRU5BLEVBREFKLEVBQ00sMEJBRUEseUJBR1ZLLFFBQVFDLEtBQUssQ0FDVEYsSUFBT0EsRUFDUEcsS0FBUSxDQUNKTCxRQUFXQSxFQUNYRixHQUFNQSxHQUVWUSxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYkMsU0FBU0MsYUFBYSxNQUFPLFdBQ3pCckIsT0FBT3NCLFFBQVFDLElBQUksR0FDbkJ2QixPQUFPd0IsU0FBU0MsS0FBT0MsU0FBU0MsaUJBU3hEckIsRUFBRSxZQUNxQixJQUFJWixjQUNWRSIsImZpbGUiOiJjbXMvYW5ub3VuY2VtZW50Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIEFubm91bmNlbWVudCgpIHtcclxufVxyXG5cclxuXHJcbkFubm91bmNlbWVudC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pbml0VUVkaXRvcigpO1xyXG4gICAgc2VsZi5saXN0ZW5TdWJtaXRFdmVudCgpO1xyXG59O1xyXG5cclxuQW5ub3VuY2VtZW50LnByb3RvdHlwZS5pbml0VUVkaXRvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcignZWRpdG9yJywge1xyXG4gICAgICAgICdpbml0aWFsRnJhbWVIZWlnaHQnOiA0MDAsXHJcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJ1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuQW5ub3VuY2VtZW50LnByb3RvdHlwZS5saXN0ZW5TdWJtaXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzdWJtaXRCdG4gPSAkKFwiI3N1Ym1pdC1idG5cIik7XHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgYnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgcGsgPSBidG4uYXR0cignZGF0YS1hbm5vdW5jZW1lbnQtaWQnKTtcclxuICAgICAgICB2YXIgY29udGVudCA9IHdpbmRvdy51ZS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgdmFyIHVybCA9ICcnO1xyXG4gICAgICAgIGlmIChwaykge1xyXG4gICAgICAgICAgICB1cmwgPSAnL2Ntcy9lZGl0X2Fubm91bmNlbWVudC8nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL2FkZF9hbm5vdW5jZW1lbnQvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiB1cmwsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ3BrJzogcGtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0U3VjY2Vzcygn5oiQ5Yqf77yBJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5nbygtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZG9jdW1lbnQucmVmZXJyZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFubm91bmNlbWVudCA9IG5ldyBBbm5vdW5jZW1lbnQoKTtcclxuICAgIGFubm91bmNlbWVudC5ydW4oKTtcclxuXHJcbn0pOyJdfQ==
