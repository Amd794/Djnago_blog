"use strict";"object"!=typeof window.CP&&(window.CP={}),window.CP.PenTimer={programNoLongerBeingMonitored:!1,timeOfFirstCallToShouldStopLoop:0,_loopExits:{},_loopTimers:{},START_MONITORING_AFTER:2e3,STOP_ALL_MONITORING_TIMEOUT:5e3,MAX_TIME_IN_LOOP_WO_EXIT:2200,exitedLoop:function(o){this._loopExits[o]=!0},shouldStopLoop:function(o){if(this.programKilledSoStopMonitoring)return!0;if(this.programNoLongerBeingMonitored)return!1;if(this._loopExits[o])return!1;var n=this._getTime();if(0===this.timeOfFirstCallToShouldStopLoop)return this.timeOfFirstCallToShouldStopLoop=n,!1;var i=n-this.timeOfFirstCallToShouldStopLoop;if(i<this.START_MONITORING_AFTER)return!1;if(i>this.STOP_ALL_MONITORING_TIMEOUT)return!(this.programNoLongerBeingMonitored=!0);try{this._checkOnInfiniteLoop(o,n)}catch(o){return this._sendErrorMessageToEditor(),this.programKilledSoStopMonitoring=!0}return!1},_sendErrorMessageToEditor:function(){try{if(this._shouldPostMessage()){var o={action:"infinite-loop",line:this._findAroundLineNumber()};parent.postMessage(JSON.stringify(o),"*")}else this._throwAnErrorToStopPen()}catch(o){this._throwAnErrorToStopPen()}},_shouldPostMessage:function(){return document.location.href.match(/boomerang/)},_throwAnErrorToStopPen:function(){throw"We found an infinite loop in your Pen. We've stopped the Pen from running. Please correct it or contact support@codepen.io."},_findAroundLineNumber:function(){var o=new Error,n=0;if(o.stack){var i=o.stack.match(/boomerang\S+:(\d+):\d+/);i&&(n=i[1])}return n},_checkOnInfiniteLoop:function(o,n){if(!this._loopTimers[o])return this._loopTimers[o]=n,!1;if(n-this._loopTimers[o]>this.MAX_TIME_IN_LOOP_WO_EXIT)throw"Infinite Loop found on loop: "+o},_getTime:function(){return+new Date}},window.CP.shouldStopExecution=function(o){return window.CP.PenTimer.shouldStopLoop(o)},window.CP.exitedLoop=function(o){window.CP.PenTimer.exitedLoop(o)},function(e){e.fn.jaliswall=function(t){return this.each(function(){var l=e.extend({item:".wall-item",columnClass:".wall-column",resize:!0},t),u=e(this),o=u.find(l.item),a=[],d=n();function n(){var o=!1;0==u.find(l.columnClass).length&&(o=!0,u.append("<div class='"+c(l.columnClass)+"'></div>"));var n=u.find(l.columnClass).outerWidth(!0),i=u.innerWidth();return o&&u.find(l.columnClass).remove(),Math.round(i/n)}function c(o){return o.slice(1,o.length)}function i(){for(var o="",n=0;n<d&&!window.CP.shouldStopExecution(2);n++)o+="<div class='"+c(l.columnClass)+"'></div>";for(var n in window.CP.exitedLoop(2),u.html(o),a){var i="",t=null!=a[n].content?a[n].content:"",e=a[n].href!=e?a[n].href:"",r=null!=a[n].class?a[n].class:"",s=null!=a[n].id?a[n].id:"";null!=a[n].href?i+="<a "+h(e,"href")+" "+h(r,"class")+" "+h(s,"id")+">"+t+"</a>":i+="<div "+h(r,"class")+" "+h(s,"id")+">"+t+"</a>",u.children(l.columnClass).eq(n%d).append(i)}}function h(o,n){return null!=o?n+"='"+o+"'":""}d=n(),o.each(function(o){var n=e(this);a.push({content:n.html(),class:n.attr("class"),href:n.attr("href"),id:n.attr("id"),colid:o%d}),n.remove()}),i(),l.resize&&e(window).resize(function(){d!=n()&&(d=n(),function(){for(var o in a){if(window.CP.shouldStopExecution(1))break;a[o].colid=o%d}window.CP.exitedLoop(1)}(),i())})}),this}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsYnVtLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIkNQIiwiUGVuVGltZXIiLCJwcm9ncmFtTm9Mb25nZXJCZWluZ01vbml0b3JlZCIsInRpbWVPZkZpcnN0Q2FsbFRvU2hvdWxkU3RvcExvb3AiLCJfbG9vcEV4aXRzIiwiX2xvb3BUaW1lcnMiLCJTVEFSVF9NT05JVE9SSU5HX0FGVEVSIiwiU1RPUF9BTExfTU9OSVRPUklOR19USU1FT1VUIiwiTUFYX1RJTUVfSU5fTE9PUF9XT19FWElUIiwiZXhpdGVkTG9vcCIsIm8iLCJ0aGlzIiwic2hvdWxkU3RvcExvb3AiLCJwcm9ncmFtS2lsbGVkU29TdG9wTW9uaXRvcmluZyIsInQiLCJfZ2V0VGltZSIsImkiLCJfY2hlY2tPbkluZmluaXRlTG9vcCIsIm4iLCJfc2VuZEVycm9yTWVzc2FnZVRvRWRpdG9yIiwiX3Nob3VsZFBvc3RNZXNzYWdlIiwiYWN0aW9uIiwibGluZSIsIl9maW5kQXJvdW5kTGluZU51bWJlciIsInBhcmVudCIsInBvc3RNZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsIl90aHJvd0FuRXJyb3JUb1N0b3BQZW4iLCJkb2N1bWVudCIsImxvY2F0aW9uIiwiaHJlZiIsIm1hdGNoIiwiRXJyb3IiLCJzdGFjayIsIkRhdGUiLCJzaG91bGRTdG9wRXhlY3V0aW9uIiwiJCIsImZuIiwiamFsaXN3YWxsIiwib3B0aW9ucyIsImVhY2giLCJwcm0iLCJleHRlbmQiLCJpdGVtIiwiY29sdW1uQ2xhc3MiLCJyZXNpemUiLCJjb250YWluZXIiLCJpdGVtcyIsImZpbmQiLCJlbGVtc0RhdGFzIiwibmJDb2xzIiwiZ2V0TmJDb2xzIiwiaW5zdGFuY2VGb3JDb21wdXRlIiwibGVuZ3RoIiwiYXBwZW5kIiwicGFyc2VTZWxlY3RvciIsImNvbFdpZHRoIiwib3V0ZXJXaWR0aCIsIndhbGxXaWR0aCIsImlubmVyV2lkdGgiLCJyZW1vdmUiLCJNYXRoIiwicm91bmQiLCJzZWxlY3RvciIsInNsaWNlIiwicHJpbnQiLCJ0cmVlIiwiaHRtbCIsImNvbnRlbnQiLCJ1bmRlZmluZWQiLCJjbGFzc2UiLCJjbGFzcyIsImlkIiwiZ2V0QXR0ciIsImNoaWxkcmVuIiwiZXEiLCJhdHRyIiwidHlwZSIsImluZGV4IiwicHVzaCIsImNvbGlkIiwic2V0Q29sUG9zIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUFhLGlCQUFpQkEsT0FBT0MsS0FBS0QsT0FBT0MsR0FBRyxJQUFJRCxPQUFPQyxHQUFHQyxTQUFTLENBQUNDLCtCQUE4QixFQUFHQyxnQ0FBZ0MsRUFBRUMsV0FBVyxHQUFHQyxZQUFZLEdBQUdDLHVCQUF1QixJQUFJQyw0QkFBNEIsSUFBSUMseUJBQXlCLEtBQUtDLFdBQVcsU0FBU0MsR0FBR0MsS0FBS1AsV0FBV00sSUFBRyxHQUFJRSxlQUFlLFNBQVNGLEdBQUcsR0FBR0MsS0FBS0UsOEJBQThCLE9BQU0sRUFBRyxHQUFHRixLQUFLVCw4QkFBOEIsT0FBTSxFQUFHLEdBQUdTLEtBQUtQLFdBQVdNLEdBQUcsT0FBTSxFQUFHLElBQUlJLEVBQUVILEtBQUtJLFdBQVcsR0FBRyxJQUFJSixLQUFLUixnQ0FBZ0MsT0FBT1EsS0FBS1IsZ0NBQWdDVyxHQUFFLEVBQUcsSUFBSUUsRUFBRUYsRUFBRUgsS0FBS1IsZ0NBQWdDLEdBQUdhLEVBQUVMLEtBQUtMLHVCQUF1QixPQUFNLEVBQUcsR0FBR1UsRUFBRUwsS0FBS0osNEJBQTRCLFFBQU9JLEtBQUtULCtCQUE4QixHQUFNLElBQUlTLEtBQUtNLHFCQUFxQlAsRUFBRUksR0FBRyxNQUFNSSxHQUFHLE9BQU9QLEtBQUtRLDRCQUE0QlIsS0FBS0UsK0JBQThCLEVBQU0sT0FBTSxHQUFJTSwwQkFBMEIsV0FBVyxJQUFJLEdBQUdSLEtBQUtTLHFCQUFxQixDQUFDLElBQUlWLEVBQUUsQ0FBQ1csT0FBTyxnQkFBZ0JDLEtBQUtYLEtBQUtZLHlCQUF5QkMsT0FBT0MsWUFBWUMsS0FBS0MsVUFBVWpCLEdBQUcsVUFBVUMsS0FBS2lCLHlCQUF5QixNQUFNZCxHQUFHSCxLQUFL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Uk8sRUFBb0JDLEVBQU8sS0FBUUQsRUFBTyxJQUFPLEdBM0V4RDFCLEVBQVNDLElBMEJUSixFQUFNUCxLQUFLLFNBQVVzQyxHQUNqQixJQUFJbkMsRUFBT1AsRUFBRTFCLE1BQ2J1QyxFQUFXOEIsS0FBSyxDQUNaWCxRQUFTekIsRUFBS3dCLE9BQ2RJLE1BQU81QixFQUFLaUMsS0FBSyxTQUNqQjlDLEtBQU1hLEVBQUtpQyxLQUFLLFFBQ2hCSixHQUFJN0IsRUFBS2lDLEtBQUssTUFDZEksTUFBT0YsRUFBUTVCLElBRW5CUCxFQUFLaUIsV0FqQ1RLLElBQ0l4QixFQUFJSSxRQUNKVCxFQUFFdEMsUUFBUStDLE9BQU8sV0FDVEssR0FBVUMsTUFDVkQsRUFBU0MsSUFnQ3pCLFdBQ0ksSUFBSyxJQUFJcEMsS0FBS2tDLEVBQVksQ0FDdEIsR0FBSW5ELE9BQU9DLEdBQUdvQyxvQkFBb0IsR0FDOUIsTUFFSmMsRUFBV2xDLEdBQUdpRSxNQUFRakUsRUFBSW1DLEVBRTlCcEQsT0FBT0MsR0FBR1MsV0FBVyxHQXRDVHlFLEdBQ0FoQixTQXNFYnZELE1BOUZmLENBaUdFd0UiLCJmaWxlIjoiYWxidW0ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvdy5DUCYmKHdpbmRvdy5DUD17fSksd2luZG93LkNQLlBlblRpbWVyPXtwcm9ncmFtTm9Mb25nZXJCZWluZ01vbml0b3JlZDohMSx0aW1lT2ZGaXJzdENhbGxUb1Nob3VsZFN0b3BMb29wOjAsX2xvb3BFeGl0czp7fSxfbG9vcFRpbWVyczp7fSxTVEFSVF9NT05JVE9SSU5HX0FGVEVSOjJlMyxTVE9QX0FMTF9NT05JVE9SSU5HX1RJTUVPVVQ6NWUzLE1BWF9USU1FX0lOX0xPT1BfV09fRVhJVDoyMjAwLGV4aXRlZExvb3A6ZnVuY3Rpb24obyl7dGhpcy5fbG9vcEV4aXRzW29dPSEwfSxzaG91bGRTdG9wTG9vcDpmdW5jdGlvbihvKXtpZih0aGlzLnByb2dyYW1LaWxsZWRTb1N0b3BNb25pdG9yaW5nKXJldHVybiEwO2lmKHRoaXMucHJvZ3JhbU5vTG9uZ2VyQmVpbmdNb25pdG9yZWQpcmV0dXJuITE7aWYodGhpcy5fbG9vcEV4aXRzW29dKXJldHVybiExO3ZhciB0PXRoaXMuX2dldFRpbWUoKTtpZigwPT09dGhpcy50aW1lT2ZGaXJzdENhbGxUb1Nob3VsZFN0b3BMb29wKXJldHVybiB0aGlzLnRpbWVPZkZpcnN0Q2FsbFRvU2hvdWxkU3RvcExvb3A9dCwhMTt2YXIgaT10LXRoaXMudGltZU9mRmlyc3RDYWxsVG9TaG91bGRTdG9wTG9vcDtpZihpPHRoaXMuU1RBUlRfTU9OSVRPUklOR19BRlRFUilyZXR1cm4hMTtpZihpPnRoaXMuU1RPUF9BTExfTU9OSVRPUklOR19USU1FT1VUKXJldHVybiB0aGlzLnByb2dyYW1Ob0xvbmdlckJlaW5nTW9uaXRvcmVkPSEwLCExO3RyeXt0aGlzLl9jaGVja09uSW5maW5pdGVMb29wKG8sdCl9Y2F0Y2gobil7cmV0dXJuIHRoaXMuX3NlbmRFcnJvck1lc3NhZ2VUb0VkaXRvcigpLHRoaXMucHJvZ3JhbUtpbGxlZFNvU3RvcE1vbml0b3Jpbmc9ITAsITB9cmV0dXJuITF9LF9zZW5kRXJyb3JNZXNzYWdlVG9FZGl0b3I6ZnVuY3Rpb24oKXt0cnl7aWYodGhpcy5fc2hvdWxkUG9zdE1lc3NhZ2UoKSl7dmFyIG89e2FjdGlvbjpcImluZmluaXRlLWxvb3BcIixsaW5lOnRoaXMuX2ZpbmRBcm91bmRMaW5lTnVtYmVyKCl9O3BhcmVudC5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShvKSxcIipcIil9ZWxzZSB0aGlzLl90aHJvd0FuRXJyb3JUb1N0b3BQZW4oKX1jYXRjaCh0KXt0aGlzLl90aHJvd0FuRXJyb3JUb1N0b3BQZW4oKX19LF9zaG91bGRQb3N0TWVzc2FnZTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLm1hdGNoKC9ib29tZXJhbmcvKX0sX3Rocm93QW5FcnJvclRvU3RvcFBlbjpmdW5jdGlvbigpe3Rocm93XCJXZSBmb3VuZCBhbiBpbmZpbml0ZSBsb29wIGluIHlvdXIgUGVuLiBXZSd2ZSBzdG9wcGVkIHRoZSBQZW4gZnJvbSBydW5uaW5nLiBQbGVhc2UgY29ycmVjdCBpdCBvciBjb250YWN0IHN1cHBvcnRAY29kZXBlbi5pby5cIn0sX2ZpbmRBcm91bmRMaW5lTnVtYmVyOmZ1bmN0aW9uKCl7dmFyIG89bmV3IEVycm9yLHQ9MDtpZihvLnN0YWNrKXt2YXIgaT1vLnN0YWNrLm1hdGNoKC9ib29tZXJhbmdcXFMrOihcXGQrKTpcXGQrLyk7aSYmKHQ9aVsxXSl9cmV0dXJuIHR9LF9jaGVja09uSW5maW5pdGVMb29wOmZ1bmN0aW9uKG8sdCl7aWYoIXRoaXMuX2xvb3BUaW1lcnNbb10pcmV0dXJuIHRoaXMuX2xvb3BUaW1lcnNbb109dCwhMTt2YXIgaT10LXRoaXMuX2xvb3BUaW1lcnNbb107aWYoaT50aGlzLk1BWF9USU1FX0lOX0xPT1BfV09fRVhJVCl0aHJvd1wiSW5maW5pdGUgTG9vcCBmb3VuZCBvbiBsb29wOiBcIitvfSxfZ2V0VGltZTpmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX19LHdpbmRvdy5DUC5zaG91bGRTdG9wRXhlY3V0aW9uPWZ1bmN0aW9uKG8pe3JldHVybiB3aW5kb3cuQ1AuUGVuVGltZXIuc2hvdWxkU3RvcExvb3Aobyl9LHdpbmRvdy5DUC5leGl0ZWRMb29wPWZ1bmN0aW9uKG8pe3dpbmRvdy5DUC5QZW5UaW1lci5leGl0ZWRMb29wKG8pfTtcclxuKGZ1bmN0aW9uICgkKSB7XHJcbiAgICAkLmZuLmphbGlzd2FsbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICAgICAgaXRlbTogJy53YWxsLWl0ZW0nLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uQ2xhc3M6ICcud2FsbC1jb2x1bW4nLFxyXG4gICAgICAgICAgICAgICAgcmVzaXplOiB0cnVlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBwcm0gPSAkLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBjb250YWluZXIuZmluZChwcm0uaXRlbSk7XHJcbiAgICAgICAgICAgIHZhciBlbGVtc0RhdGFzID0gW107XHJcbiAgICAgICAgICAgIHZhciBjb2x1bW5zID0gW107XHJcbiAgICAgICAgICAgIHZhciBuYkNvbHMgPSBnZXROYkNvbHMoKTtcclxuICAgICAgICAgICAgaW5pdCgpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgICAgICAgICAgbmJDb2xzID0gZ2V0TmJDb2xzKCk7XHJcbiAgICAgICAgICAgICAgICByZWNvcmRBbmRSZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHByaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJtLnJlc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmJDb2xzICE9IGdldE5iQ29scygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYkNvbHMgPSBnZXROYkNvbHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbFBvcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE5iQ29scygpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZUZvckNvbXB1dGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuZmluZChwcm0uY29sdW1uQ2xhc3MpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VGb3JDb21wdXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVxcJycgKyBwYXJzZVNlbGVjdG9yKHBybS5jb2x1bW5DbGFzcykgKyAnXFwnPjwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbFdpZHRoID0gY29udGFpbmVyLmZpbmQocHJtLmNvbHVtbkNsYXNzKS5vdXRlcldpZHRoKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHdhbGxXaWR0aCA9IGNvbnRhaW5lci5pbm5lcldpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2VGb3JDb21wdXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maW5kKHBybS5jb2x1bW5DbGFzcykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh3YWxsV2lkdGggLyBjb2xXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVjb3JkQW5kUmVtb3ZlKCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbXNEYXRhcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogaXRlbS5odG1sKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBpdGVtLmF0dHIoJ2NsYXNzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGl0ZW0uYXR0cignaHJlZicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5hdHRyKCdpZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xpZDogaW5kZXggJSBuYkNvbHNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0Q29sUG9zKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBlbGVtc0RhdGFzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5DUC5zaG91bGRTdG9wRXhlY3V0aW9uKDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbGVtc0RhdGFzW2ldLmNvbGlkID0gaSAlIG5iQ29scztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdpbmRvdy5DUC5leGl0ZWRMb29wKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlU2VsZWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3Rvci5zbGljZSgxLCBzZWxlY3Rvci5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByaW50KCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyZWUgPSAnJztcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJDb2xzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkNQLnNob3VsZFN0b3BFeGVjdXRpb24oMikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRyZWUgKz0gJzxkaXYgY2xhc3M9XFwnJyArIHBhcnNlU2VsZWN0b3IocHJtLmNvbHVtbkNsYXNzKSArICdcXCc+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdpbmRvdy5DUC5leGl0ZWRMb29wKDIpO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmh0bWwodHJlZSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGVsZW1zRGF0YXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gZWxlbXNEYXRhc1tpXS5jb250ZW50ICE9IHVuZGVmaW5lZCA/IGVsZW1zRGF0YXNbaV0uY29udGVudCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBocmVmID0gZWxlbXNEYXRhc1tpXS5ocmVmICE9IGhyZWYgPyBlbGVtc0RhdGFzW2ldLmhyZWYgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NlID0gZWxlbXNEYXRhc1tpXS5jbGFzcyAhPSB1bmRlZmluZWQgPyBlbGVtc0RhdGFzW2ldLmNsYXNzIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gZWxlbXNEYXRhc1tpXS5pZCAhPSB1bmRlZmluZWQgPyBlbGVtc0RhdGFzW2ldLmlkIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1zRGF0YXNbaV0uaHJlZiAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPGEgJyArIGdldEF0dHIoaHJlZiwgJ2hyZWYnKSArICcgJyArIGdldEF0dHIoY2xhc3NlLCAnY2xhc3MnKSArICcgJyArIGdldEF0dHIoaWQsICdpZCcpICsgJz4nICsgY29udGVudCArICc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2ICcgKyBnZXRBdHRyKGNsYXNzZSwgJ2NsYXNzJykgKyAnICcgKyBnZXRBdHRyKGlkLCAnaWQnKSArICc+JyArIGNvbnRlbnQgKyAnPC9hPic7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jaGlsZHJlbihwcm0uY29sdW1uQ2xhc3MpLmVxKGkgJSBuYkNvbHMpLmFwcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRBdHRyKGF0dHIsIHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyICE9IHVuZGVmaW5lZCA/IHR5cGUgKyAnPVxcJycgKyBhdHRyICsgJ1xcJycgOiAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHRcclxufShqUXVlcnkpKTsiXX0=
